晚上好
我还是大家熟悉的大粽子

看过前面文章的朋友应该记得我2021年吹得第一个牛已经实现了， [我是怎么实现今年的第一个NB的请戳这里](https://mp.weixin.qq.com/s/E6k_UU3Nx3-x6KegwO2DsA)

你还别说他回上海复工后还真的介绍了好多同行来使用，我还挺高兴的。哈哈哈 自己的作品虽然还没打到自己的要求，但看大家都乐意使用作为作者，这就是我做好它的理由。

### SpringBoot项目怎么部署？
## 打包前准备工作
1. 一个主域名，3个子域名共计4个域名    
2. 主域名用于访问移动端，子域名2用于PC管理后台，子域名3用于访问Java Api，子域名4用于图片资源访问
3. 举例4个域名，下文中会用此来代替
>     1. 移动端    --->  https://www.app.com
>     2. PC 后台    --->  https://admin.app.com
>     3. Java Api    --->  https://api.app.com
>     4. 图片资源    --->  https://image.app.com

#### Java 项目运行和打包
>     1. 把Java项目导入idea
   2. ![](https://git.kancloud.cn/repos/crmeb/crmeb_java/raw/9e60c6426638e7fbab9856a14f18abf513168cc4/images/screenshot_1597894150924.png?access-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTQxMzQ1OTcsImlhdCI6MTYxNDA5MTM5NywicmVwb3NpdG9yeSI6ImNybWViXC9jcm1lYl9qYXZhIiwidXNlciI6eyJ1c2VybmFtZSI6InN0aXZlcGVpbSIsIm5hbWUiOiJcdTU5MjdcdTdjYmRcdTViNTAiLCJlbWFpbCI6InN0aXZlcGVpbUBvdXRsb29rLmNvbSIsInRva2VuIjoiMDNkNDAzYzIyMjEzZmZlZWQ0MDFjNTY1ZDA2YWI1OGIiLCJhdXRob3JpemUiOnsicHVsbCI6dHJ1ZSwicHVzaCI6dHJ1ZSwiYWRtaW4iOnRydWV9fX0.YSirD8cq0sUMsVwCI7LmznG60vCwikQ8YPmjK6GuYNo)
   
   3. 选择项目中的 crmeb文件夹，也就是Java Api子项目 ![](https://git.kancloud.cn/repos/crmeb/crmeb_java/raw/9e60c6426638e7fbab9856a14f18abf513168cc4/images/screenshot_1597894279171.png?access-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTQxMzQ1OTcsImlhdCI6MTYxNDA5MTM5NywicmVwb3NpdG9yeSI6ImNybWViXC9jcm1lYl9qYXZhIiwidXNlciI6eyJ1c2VybmFtZSI6InN0aXZlcGVpbSIsIm5hbWUiOiJcdTU5MjdcdTdjYmRcdTViNTAiLCJlbWFpbCI6InN0aXZlcGVpbUBvdXRsb29rLmNvbSIsInRva2VuIjoiMDNkNDAzYzIyMjEzZmZlZWQ0MDFjNTY1ZDA2YWI1OGIiLCJhdXRob3JpemUiOnsicHVsbCI6dHJ1ZSwicHVzaCI6dHJ1ZSwiYWRtaW4iOnRydWV9fX0.YSirD8cq0sUMsVwCI7LmznG60vCwikQ8YPmjK6GuYNo)
   4. 等项目自动载入完成
   5. 项目配置    根据自己的实际情况配置![](https://git.kancloud.cn/repos/crmeb/crmeb_java/raw/9e60c6426638e7fbab9856a14f18abf513168cc4/images/screenshot_1597891981215.png?access-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTQxMzQ1OTcsImlhdCI6MTYxNDA5MTM5NywicmVwb3NpdG9yeSI6ImNybWViXC9jcm1lYl9qYXZhIiwidXNlciI6eyJ1c2VybmFtZSI6InN0aXZlcGVpbSIsIm5hbWUiOiJcdTU5MjdcdTdjYmRcdTViNTAiLCJlbWFpbCI6InN0aXZlcGVpbUBvdXRsb29rLmNvbSIsInRva2VuIjoiMDNkNDAzYzIyMjEzZmZlZWQ0MDFjNTY1ZDA2YWI1OGIiLCJhdXRob3JpemUiOnsicHVsbCI6dHJ1ZSwicHVzaCI6dHJ1ZSwiYWRtaW4iOnRydWV9fX0.YSirD8cq0sUMsVwCI7LmznG60vCwikQ8YPmjK6GuYNo)
   8. 开源不易，我司统计下安装量，只有首次部署会统计，不会有任何影响，请根据自己的具体情况修改下，版本号不需要修改 ![](https://git.kancloud.cn/repos/crmeb/crmeb_java/raw/9e60c6426638e7fbab9856a14f18abf513168cc4/images/screenshot_1597894371373.png?access-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTQxMzQ1OTcsImlhdCI6MTYxNDA5MTM5NywicmVwb3NpdG9yeSI6ImNybWViXC9jcm1lYl9qYXZhIiwidXNlciI6eyJ1c2VybmFtZSI6InN0aXZlcGVpbSIsIm5hbWUiOiJcdTU5MjdcdTdjYmRcdTViNTAiLCJlbWFpbCI6InN0aXZlcGVpbUBvdXRsb29rLmNvbSIsInRva2VuIjoiMDNkNDAzYzIyMjEzZmZlZWQ0MDFjNTY1ZDA2YWI1OGIiLCJhdXRob3JpemUiOnsicHVsbCI6dHJ1ZSwicHVzaCI6dHJ1ZSwiYWRtaW4iOnRydWV9fX0.YSirD8cq0sUMsVwCI7LmznG60vCwikQ8YPmjK6GuYNo)
   7. 打包项目 ![](../images/screenshot_1597891981215.png)
   12. 看见  BUILD SUCCESS  打包完成![](https://git.kancloud.cn/repos/crmeb/crmeb_java/raw/9e60c6426638e7fbab9856a14f18abf513168cc4/images/screenshot_1597892069883.png?access-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTQxMzQ1OTcsImlhdCI6MTYxNDA5MTM5NywicmVwb3NpdG9yeSI6ImNybWViXC9jcm1lYl9qYXZhIiwidXNlciI6eyJ1c2VybmFtZSI6InN0aXZlcGVpbSIsIm5hbWUiOiJcdTU5MjdcdTdjYmRcdTViNTAiLCJlbWFpbCI6InN0aXZlcGVpbUBvdXRsb29rLmNvbSIsInRva2VuIjoiMDNkNDAzYzIyMjEzZmZlZWQ0MDFjNTY1ZDA2YWI1OGIiLCJhdXRob3JpemUiOnsicHVsbCI6dHJ1ZSwicHVzaCI6dHJ1ZSwiYWRtaW4iOnRydWV9fX0.YSirD8cq0sUMsVwCI7LmznG60vCwikQ8YPmjK6GuYNo)


### WEB PC 管理端 运行和打包
##### 运行以下命令之前请确认npm环境正确运行
1. 如果开发可以使用webStorem或者Vscode 
2. 终端使用自己趁手的命令行工具
3. cd 到clone项目的admin文件夹目录
4. ![](https://git.kancloud.cn/repos/crmeb/crmeb_java/raw/9e60c6426638e7fbab9856a14f18abf513168cc4/images/screenshot_1597892271529.png?access-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTQxMzQ1OTcsImlhdCI6MTYxNDA5MTM5NywicmVwb3NpdG9yeSI6ImNybWViXC9jcm1lYl9qYXZhIiwidXNlciI6eyJ1c2VybmFtZSI6InN0aXZlcGVpbSIsIm5hbWUiOiJcdTU5MjdcdTdjYmRcdTViNTAiLCJlbWFpbCI6InN0aXZlcGVpbUBvdXRsb29rLmNvbSIsInRva2VuIjoiMDNkNDAzYzIyMjEzZmZlZWQ0MDFjNTY1ZDA2YWI1OGIiLCJhdXRob3JpemUiOnsicHVsbCI6dHJ1ZSwicHVzaCI6dHJ1ZSwiYWRtaW4iOnRydWV9fX0.YSirD8cq0sUMsVwCI7LmznG60vCwikQ8YPmjK6GuYNo)
5. 修改对应环境配置文件 ![](https://git.kancloud.cn/repos/crmeb/crmeb_java/raw/9e60c6426638e7fbab9856a14f18abf513168cc4/images/screenshot_1597892472288.png?access-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTQxMzQ1OTcsImlhdCI6MTYxNDA5MTM5NywicmVwb3NpdG9yeSI6ImNybWViXC9jcm1lYl9qYXZhIiwidXNlciI6eyJ1c2VybmFtZSI6InN0aXZlcGVpbSIsIm5hbWUiOiJcdTU5MjdcdTdjYmRcdTViNTAiLCJlbWFpbCI6InN0aXZlcGVpbUBvdXRsb29rLmNvbSIsInRva2VuIjoiMDNkNDAzYzIyMjEzZmZlZWQ0MDFjNTY1ZDA2YWI1OGIiLCJhdXRob3JpemUiOnsicHVsbCI6dHJ1ZSwicHVzaCI6dHJ1ZSwiYWRtaW4iOnRydWV9fX0.YSirD8cq0sUMsVwCI7LmznG60vCwikQ8YPmjK6GuYNo)
6. 根据自己打包的环境配置Java Api项目请求域名
7. ![](https://git.kancloud.cn/repos/crmeb/crmeb_java/raw/9e60c6426638e7fbab9856a14f18abf513168cc4/images/screenshot_1597892557867.png?access-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTQxMzQ1OTcsImlhdCI6MTYxNDA5MTM5NywicmVwb3NpdG9yeSI6ImNybWViXC9jcm1lYl9qYXZhIiwidXNlciI6eyJ1c2VybmFtZSI6InN0aXZlcGVpbSIsIm5hbWUiOiJcdTU5MjdcdTdjYmRcdTViNTAiLCJlbWFpbCI6InN0aXZlcGVpbUBvdXRsb29rLmNvbSIsInRva2VuIjoiMDNkNDAzYzIyMjEzZmZlZWQ0MDFjNTY1ZDA2YWI1OGIiLCJhdXRob3JpemUiOnsicHVsbCI6dHJ1ZSwicHVzaCI6dHJ1ZSwiYWRtaW4iOnRydWV9fX0.YSirD8cq0sUMsVwCI7LmznG60vCwikQ8YPmjK6GuYNo)
8. 执行安装所需包文件 npm install 
9. 打包命令可根据自身需求修改![](https://git.kancloud.cn/repos/crmeb/crmeb_java/raw/9e60c6426638e7fbab9856a14f18abf513168cc4/images/screenshot_1597892781915.png?access-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTQxMzQ1OTcsImlhdCI6MTYxNDA5MTM5NywicmVwb3NpdG9yeSI6ImNybWViXC9jcm1lYl9qYXZhIiwidXNlciI6eyJ1c2VybmFtZSI6InN0aXZlcGVpbSIsIm5hbWUiOiJcdTU5MjdcdTdjYmRcdTViNTAiLCJlbWFpbCI6InN0aXZlcGVpbUBvdXRsb29rLmNvbSIsInRva2VuIjoiMDNkNDAzYzIyMjEzZmZlZWQ0MDFjNTY1ZDA2YWI1OGIiLCJhdXRob3JpemUiOnsicHVsbCI6dHJ1ZSwicHVzaCI6dHJ1ZSwiYWRtaW4iOnRydWV9fX0.YSirD8cq0sUMsVwCI7LmznG60vCwikQ8YPmjK6GuYNo)
10. 执行 npm run build:prod   线上环境              build:prod 线上环境   
11. 打包完成之后在 admin下找到 dist目录，把dist目录下的文件夹以及文件上传到 服务器对应的站点目录即可 【此处不包含dist文件夹，是dist文件夹下面的文件】


### 移动端项目打包，使用Hbuild
#### 移动端暂时仅支持H5和微信小程序
1. 更多关于Uniapp的问题 [uniapp官网](https://uniapp.dcloud.io/)
2. [下载uniapp开发者工具  ----> Hbuilder X](https://www.dcloud.io/hbuilderx.html)
3. 打包微信小程序则需要下载 [微信开发者工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html)
4. 微信开发者工具可根据自己的电脑系统下载 ![](https://git.kancloud.cn/repos/crmeb/crmeb_java/raw/9e60c6426638e7fbab9856a14f18abf513168cc4/images/screenshot_1597893319615.png?access-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTQxMzQ1OTcsImlhdCI6MTYxNDA5MTM5NywicmVwb3NpdG9yeSI6ImNybWViXC9jcm1lYl9qYXZhIiwidXNlciI6eyJ1c2VybmFtZSI6InN0aXZlcGVpbSIsIm5hbWUiOiJcdTU5MjdcdTdjYmRcdTViNTAiLCJlbWFpbCI6InN0aXZlcGVpbUBvdXRsb29rLmNvbSIsInRva2VuIjoiMDNkNDAzYzIyMjEzZmZlZWQ0MDFjNTY1ZDA2YWI1OGIiLCJhdXRob3JpemUiOnsicHVsbCI6dHJ1ZSwicHVzaCI6dHJ1ZSwiYWRtaW4iOnRydWV9fX0.YSirD8cq0sUMsVwCI7LmznG60vCwikQ8YPmjK6GuYNo)

# 注意
``` 
最外层项目包中有一个 domain.json文件，需要根据自己实际情况修改此文件内容
不可有注释 且json格式正确
```
![](https://git.kancloud.cn/repos/crmeb/crmeb_java/raw/9e60c6426638e7fbab9856a14f18abf513168cc4/images/screenshot_1597893806768.png?access-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTQxMzQ1OTcsImlhdCI6MTYxNDA5MTM5NywicmVwb3NpdG9yeSI6ImNybWViXC9jcm1lYl9qYXZhIiwidXNlciI6eyJ1c2VybmFtZSI6InN0aXZlcGVpbSIsIm5hbWUiOiJcdTU5MjdcdTdjYmRcdTViNTAiLCJlbWFpbCI6InN0aXZlcGVpbUBvdXRsb29rLmNvbSIsInRva2VuIjoiMDNkNDAzYzIyMjEzZmZlZWQ0MDFjNTY1ZDA2YWI1OGIiLCJhdXRob3JpemUiOnsicHVsbCI6dHJ1ZSwicHVzaCI6dHJ1ZSwiYWRtaW4iOnRydWV9fX0.YSirD8cq0sUMsVwCI7LmznG60vCwikQ8YPmjK6GuYNo)

## Hbuilder X 打包 H5
1. 打开Hbuilder X 点击  `文件 `
![](https://git.kancloud.cn/repos/crmeb/crmeb_java/raw/9e60c6426638e7fbab9856a14f18abf513168cc4/images/screenshot_1597893446159.png?access-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTQxMzQ1OTcsImlhdCI6MTYxNDA5MTM5NywicmVwb3NpdG9yeSI6ImNybWViXC9jcm1lYl9qYXZhIiwidXNlciI6eyJ1c2VybmFtZSI6InN0aXZlcGVpbSIsIm5hbWUiOiJcdTU5MjdcdTdjYmRcdTViNTAiLCJlbWFpbCI6InN0aXZlcGVpbUBvdXRsb29rLmNvbSIsInRva2VuIjoiMDNkNDAzYzIyMjEzZmZlZWQ0MDFjNTY1ZDA2YWI1OGIiLCJhdXRob3JpemUiOnsicHVsbCI6dHJ1ZSwicHVzaCI6dHJ1ZSwiYWRtaW4iOnRydWV9fX0.YSirD8cq0sUMsVwCI7LmznG60vCwikQ8YPmjK6GuYNo)
2. 本地测试点击  `运行`
![](https://git.kancloud.cn/repos/crmeb/crmeb_java/raw/9e60c6426638e7fbab9856a14f18abf513168cc4/images/screenshot_1597893536652.png?access-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTQxMzQ1OTcsImlhdCI6MTYxNDA5MTM5NywicmVwb3NpdG9yeSI6ImNybWViXC9jcm1lYl9qYXZhIiwidXNlciI6eyJ1c2VybmFtZSI6InN0aXZlcGVpbSIsIm5hbWUiOiJcdTU5MjdcdTdjYmRcdTViNTAiLCJlbWFpbCI6InN0aXZlcGVpbUBvdXRsb29rLmNvbSIsInRva2VuIjoiMDNkNDAzYzIyMjEzZmZlZWQ0MDFjNTY1ZDA2YWI1OGIiLCJhdXRob3JpemUiOnsicHVsbCI6dHJ1ZSwicHVzaCI6dHJ1ZSwiYWRtaW4iOnRydWV9fX0.YSirD8cq0sUMsVwCI7LmznG60vCwikQ8YPmjK6GuYNo)
3. 线上打包点击  `发行`
![](https://git.kancloud.cn/repos/crmeb/crmeb_java/raw/9e60c6426638e7fbab9856a14f18abf513168cc4/images/screenshot_1597893652651.png?access-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTQxMzQ1OTcsImlhdCI6MTYxNDA5MTM5NywicmVwb3NpdG9yeSI6ImNybWViXC9jcm1lYl9qYXZhIiwidXNlciI6eyJ1c2VybmFtZSI6InN0aXZlcGVpbSIsIm5hbWUiOiJcdTU5MjdcdTdjYmRcdTViNTAiLCJlbWFpbCI6InN0aXZlcGVpbUBvdXRsb29rLmNvbSIsInRva2VuIjoiMDNkNDAzYzIyMjEzZmZlZWQ0MDFjNTY1ZDA2YWI1OGIiLCJhdXRob3JpemUiOnsicHVsbCI6dHJ1ZSwicHVzaCI6dHJ1ZSwiYWRtaW4iOnRydWV9fX0.YSirD8cq0sUMsVwCI7LmznG60vCwikQ8YPmjK6GuYNo)
4.  打包的时候出现下图点 `发布` 行即可，不需要输入域名![](https://git.kancloud.cn/repos/crmeb/crmeb_java/raw/9e60c6426638e7fbab9856a14f18abf513168cc4/images/screenshot_1597895181120.png?access-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTQxMzQ1OTcsImlhdCI6MTYxNDA5MTM5NywicmVwb3NpdG9yeSI6ImNybWViXC9jcm1lYl9qYXZhIiwidXNlciI6eyJ1c2VybmFtZSI6InN0aXZlcGVpbSIsIm5hbWUiOiJcdTU5MjdcdTdjYmRcdTViNTAiLCJlbWFpbCI6InN0aXZlcGVpbUBvdXRsb29rLmNvbSIsInRva2VuIjoiMDNkNDAzYzIyMjEzZmZlZWQ0MDFjNTY1ZDA2YWI1OGIiLCJhdXRob3JpemUiOnsicHVsbCI6dHJ1ZSwicHVzaCI6dHJ1ZSwiYWRtaW4iOnRydWV9fX0.YSirD8cq0sUMsVwCI7LmznG60vCwikQ8YPmjK6GuYNo)
5. 打包成功如下图![](https://git.kancloud.cn/repos/crmeb/crmeb_java/raw/9e60c6426638e7fbab9856a14f18abf513168cc4/images/screenshot_1597895292281.png?access-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTQxMzQ1OTcsImlhdCI6MTYxNDA5MTM5NywicmVwb3NpdG9yeSI6ImNybWViXC9jcm1lYl9qYXZhIiwidXNlciI6eyJ1c2VybmFtZSI6InN0aXZlcGVpbSIsIm5hbWUiOiJcdTU5MjdcdTdjYmRcdTViNTAiLCJlbWFpbCI6InN0aXZlcGVpbUBvdXRsb29rLmNvbSIsInRva2VuIjoiMDNkNDAzYzIyMjEzZmZlZWQ0MDFjNTY1ZDA2YWI1OGIiLCJhdXRob3JpemUiOnsicHVsbCI6dHJ1ZSwicHVzaCI6dHJ1ZSwiYWRtaW4iOnRydWV9fX0.YSirD8cq0sUMsVwCI7LmznG60vCwikQ8YPmjK6GuYNo)


![](https://gitee.com/stivepeim/img4mk/raw/master/20201218232623.jpg)

![](https://gitee.com/stivepeim/img4mk/raw/master/20201226230441.gif)